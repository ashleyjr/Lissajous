Version 4
SHEET 1 1400 812
WIRE 832 -336 624 -336
WIRE 1120 -304 1008 -304
WIRE 1392 -304 1200 -304
WIRE -176 -272 -496 -272
WIRE 256 -240 96 -240
WIRE 496 -240 336 -240
WIRE 736 -240 736 -288
WIRE -496 -224 -496 -272
WIRE 624 -224 624 -336
WIRE 704 -224 624 -224
WIRE 832 -208 832 -336
WIRE 832 -208 768 -208
WIRE 704 -192 640 -192
WIRE 1168 -128 1168 -176
WIRE -352 -112 -352 -160
WIRE 736 -112 736 -176
WIRE 832 -112 832 -208
WIRE 848 -112 832 -112
WIRE 1008 -112 1008 -304
WIRE 1008 -112 928 -112
WIRE 1136 -112 1008 -112
WIRE -496 -96 -496 -144
WIRE -384 -96 -496 -96
WIRE 192 -96 192 -144
WIRE 1392 -96 1392 -304
WIRE 1392 -96 1200 -96
WIRE -176 -80 -176 -272
WIRE -176 -80 -320 -80
WIRE 96 -80 96 -240
WIRE 160 -80 96 -80
WIRE 496 -80 496 -240
WIRE 640 -80 640 -192
WIRE 640 -80 496 -80
WIRE 1136 -80 1024 -80
WIRE -384 -64 -944 -64
WIRE 384 -64 224 -64
WIRE 496 -64 496 -80
WIRE 496 -64 448 -64
WIRE -176 -48 -176 -80
WIRE 160 -48 -176 -48
WIRE -944 -16 -944 -64
WIRE -496 -16 -496 -96
WIRE 640 -16 640 -80
WIRE 496 0 496 -64
WIRE 1168 0 1168 -64
WIRE -352 16 -352 -48
WIRE 800 16 784 16
WIRE 848 16 800 16
WIRE 1024 16 1024 -80
WIRE 1024 16 928 16
WIRE 192 32 192 -32
WIRE -496 80 -496 64
WIRE 496 80 496 64
WIRE 640 80 640 64
WIRE 640 80 496 80
WIRE 1024 80 1024 16
WIRE 496 96 496 80
WIRE -944 128 -944 64
WIRE -544 160 -608 160
WIRE 1024 192 1024 160
WIRE -768 224 -768 160
WIRE -496 240 -496 176
WIRE -608 336 -608 160
WIRE 1392 336 1392 -96
WIRE 1392 336 -608 336
WIRE -768 368 -768 304
WIRE -928 448 -928 384
WIRE -928 560 -928 528
WIRE -928 560 -1008 560
WIRE -928 576 -928 560
WIRE -1008 608 -1008 560
WIRE -928 720 -928 656
FLAG -496 240 0
FLAG -944 128 0
FLAG -1008 608 0
FLAG -352 -160 +V
FLAG -928 384 +V
FLAG -352 16 -V
FLAG -928 720 -V
FLAG -768 368 0
FLAG 192 -144 +V
FLAG 192 32 -V
FLAG 496 96 0
FLAG 1168 -176 +V
FLAG 1168 0 -V
FLAG 1024 192 0
FLAG 800 16 +V
FLAG 736 -288 +V
FLAG 736 -112 -V
SYMBOL Opamps\\OP27 -352 -144 R0
SYMATTR InstName U1
SYMBOL res -512 -240 R0
SYMATTR InstName R1
SYMATTR Value 40K
SYMBOL res -512 -32 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL nmos -544 80 R0
SYMATTR InstName M1
SYMBOL voltage -944 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 100mV 5KHz)
SYMBOL voltage -928 432 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL voltage -928 560 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 10
SYMBOL voltage -768 208 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value SINE(5 5 500Hz)
SYMBOL Opamps\\OP27 192 -128 R0
SYMATTR InstName U2
SYMBOL diode 384 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL cap 480 0 R0
SYMATTR InstName C1
SYMATTR Value 100nF
SYMBOL res 352 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10K
SYMBOL res 656 80 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 100K
SYMBOL Opamps\\OP27 1168 -160 R0
SYMATTR InstName U3
SYMBOL res 944 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL res 1216 -320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10K
SYMBOL res 944 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 9K
SYMBOL res 1040 176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 1K
SYMBOL Opamps\\OP27 736 -272 R0
SYMATTR InstName U4
TEXT -1028 796 Left 2 !.tran 50ms
